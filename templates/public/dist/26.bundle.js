(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{807:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},974:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(1),o=n.n(r),a=n(958),c=n(959),i=n(932),s=n(953),l=n(960),u=n(933),f=n(941),p=n(937),d=n(927),y=n(791),m=n.n(y),b=n(185),v=n(800);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getSpeedtestServers",value:function(){return new Promise((function(e,t){b.a.http({url:v.a.PACKAGE_URL+"/speedtest"}).GET.then((function(t){e(t.data)})).catch((function(e){t(e)}))}))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){P(a,r,o,c,i,"next",e)}function i(e){P(a,r,o,c,i,"throw",e)}c(void 0)}))}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(b,e);var t,n,r,y=R(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=y.call(this,e)).getServers=j(regeneratorRuntime.mark((function e(){var n,r,o,a,c,i,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.setState(O(O({},t.state),{},{render:!0})),n=[],r=[],null===(o=window.sessionStorage.getItem("servers"))){e.next=9;break}r=JSON.parse(o),e.next=14;break;case 9:return e.next=11,t.packageServer.getSpeedtestServers();case 11:for(a=e.sent,n=a.response,c=0,i=Object.keys(n);c<i.length;c++)for(s=i[c],l=0;l<n[s].length;l++)r.push(n[s][l]);case 14:t.setState(O(O({},t.state),{},{servers:r,render:!1}),(function(){return window.sessionStorage.setItem("servers",JSON.stringify(r))})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),t.setState(O(O({},t.state),{},{render:!1}));case 20:case"end":return e.stop()}}),e,null,[[0,17]])}))),t.runSpeedtest=function(e){t.setState({},t.eventsource(e.action))},t.eventsource=function(e){var t=document.getElementById("alInfo"),n=document.getElementById("alSuccess"),r=document.getElementById("alError"),o=document.getElementById("output"),a=document.getElementById("btnAction");if("function"!=typeof EventSource)return o.style.display="block",void(o.innerHTML="Not supported with this browser!");var c=new EventSource("/api/package/management/speedtest?request=ping&server="+e);o.innerHTML="",o.style.display="block",t.style.display="block",n.style.display="none",r.style.display="none",a.setAttribute("disabled",!0),c.addEventListener("message",(function(e){-1!==e.data.indexOf("[/]")?(n.style.display="block",a.removeAttribute("disabled")):-1!==e.data.indexOf("[x]")&&(r.style.display="block");var t="";-1!==e.data.indexOf("[i]")?(t+=e.data+"\n",o.append(t)):(t+=e.data+"\n",o.append(t),c.close(),a.removeAttribute("disabled"))}),!1),c.addEventListener("error",(function(){setTimeout((function(){t.style.display="none"}),2e3),c.close(),a.removeAttribute("disabled")}),!1)},t.packageServer=new g,t.state={servers:[],server:"",render:!1},t}return t=b,(n=[{key:"componentDidMount",value:function(){this.getServers()}},{key:"render",value:function(){var e=this;return o.a.createElement(a.a,null,o.a.createElement(c.a,{lg:"12"},o.a.createElement(i.a,null,o.a.createElement(s.a,null,o.a.createElement(l.a,null,o.a.createElement("h4",null,"Run speedtest"))),o.a.createElement(u.a,null,!this.state.render&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{className:"mt-2"},"Servers"),o.a.createElement(p.a,{type:"select",name:"interface",className:"mb-2",onChange:function(t){return e.setState(O(O({},e.state),{},{server:t.target.value}))},placeholder:"Select servers"},o.a.createElement("option",{value:""},"Best server"),!m.a.isEmpty(this.state.servers)&&this.state.servers.map((function(e,t){var n="".concat(e.name,"(").concat(e.sponsor,") ").concat(e.d.toFixed(2),"km");return o.a.createElement("option",{key:t,value:e.id},n)})))),o.a.createElement("button",{id:"btnAction",type:"button",className:"btn btn-info action-btn-wifi",onClick:function(t){return e.runSpeedtest({action:e.state.server})}},o.a.createElement("i",{className:"fa fa-play"}),o.a.createElement("span",null,"Â Run")),o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement(d.a,{id:"alInfo",color:"info",className:"mb-4 mt-4",style:{display:"none"}},"This may take a while. ",o.a.createElement("strong",null,"Please do not navigate away from or close this page.")),o.a.createElement(d.a,{id:"alSuccess",color:"success",className:"mb-4 mt-4",style:{display:"none"}},"Success!"),o.a.createElement(d.a,{id:"alError",color:"danger",className:"mb-4 mt-4",style:{display:"none"}},"Error!"),o.a.createElement("pre",{id:"output",style:{display:"none"}}))))))}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(r.Component)}}]);